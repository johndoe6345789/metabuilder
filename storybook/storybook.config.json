{
  "$schema": "./storybook-config.schema.json",
  "description": "Auto-discovery configuration for Lua package Storybook",
  "packagesPath": "../packages",
  "packagesIndex": "../packages/index.json",
  
  "discovery": {
    "enabled": true,
    "scanManifests": true,
    "includedCategories": ["ui", "admin", "gaming", "social", "editors", "examples"],
    "excludedPackages": ["shared", "lua_test"],
    "minLevel": 0,
    "maxLevel": 6
  },

  "rendering": {
    "defaultContext": {
      "user": {
        "id": "storybook-user",
        "username": "demo_user",
        "level": 4,
        "email": "demo@example.com"
      },
      "nerdMode": false,
      "theme": "light"
    },
    "contextVariants": [
      {
        "name": "Guest",
        "context": { "user": { "username": "guest", "level": 1 } }
      },
      {
        "name": "Admin",
        "context": { "user": { "username": "admin", "level": 4 }, "nerdMode": false }
      },
      {
        "name": "Admin (Nerd Mode)",
        "context": { "user": { "username": "admin", "level": 4 }, "nerdMode": true }
      },
      {
        "name": "Supergod",
        "context": { "user": { "username": "supergod", "level": 6 } }
      }
    ]
  },

  "scripts": {
    "renderFunctions": ["render", "main", "layout", "login_form", "register_form", "forgot_password", "form", "page", "view"],
    "ignoredScripts": ["test", "types", "utils", "init", "validate", "actions", "formatting", "format_time", "format", "send_message", "handle_command", "user_join", "user_leave", "helper", "db"],
    "jsonScripts": {
      "enabled": true,
      "executor": "javascript",
      "includeFunctions": ["all_expressions", "all_statements", "all_operators", "control_flow", "data_structures"],
      "renderMode": "json_output"
    }
  },

  "manualOverrides": {
    "dashboard": {
      "featured": true,
      "renders": {
        "stats.card": { "description": "Single stat card with trend indicator" },
        "stats.grid": { "description": "Grid of stat cards" },
        "layout.standard": { "description": "Standard dashboard layout" }
      }
    },
    "ui_level4": {
      "featured": true,
      "renders": {
        "layout.render": { "description": "Admin panel main layout" }
      }
    },
    "user_manager": {
      "featured": true,
      "renders": {
        "render_users": { "description": "User management table" }
      }
    },
    "json_script_example": {
      "featured": true,
      "category": "examples",
      "description": "JSON Script Runtime Examples",
      "stories": [
        {
          "name": "All Expressions",
          "function": "all_expressions",
          "args": [10, 5],
          "argControls": {
            "a": { "type": "number", "default": 10, "label": "First Number" },
            "b": { "type": "number", "default": 5, "label": "Second Number" }
          }
        },
        {
          "name": "All Statements",
          "function": "all_statements",
          "args": [[1, 2, 3, 4, 5]],
          "argControls": {
            "items": { "type": "array", "default": [1, 2, 3, 4, 5], "label": "Numbers Array" }
          }
        },
        {
          "name": "All Operators",
          "function": "all_operators",
          "args": [10, 5],
          "argControls": {
            "x": { "type": "number", "default": 10, "label": "X" },
            "y": { "type": "number", "default": 5, "label": "Y" }
          }
        },
        {
          "name": "Control Flow",
          "function": "control_flow",
          "args": [42],
          "argControls": {
            "value": { "type": "number", "default": 42, "label": "Value to Classify" }
          }
        },
        {
          "name": "Data Structures",
          "function": "data_structures",
          "args": []
        }
      ]
    }
  }
}
