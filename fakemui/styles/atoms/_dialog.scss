// Dialog Atoms - Material Design 3
// =================================
// Flat selectors for modal dialog styling using M3 tokens
// https://m3.material.io/components/dialogs/specs

// Dialog overlay (scrim)
.dialog-overlay {
  position: fixed;
  inset: 0;
  background: color-mix(in srgb, var(--mat-sys-scrim) 32%, transparent);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 48px 24px;
  z-index: 1000;
  animation: dialog-fade-in var(--mat-sys-motion-duration-medium2) var(--mat-sys-motion-easing-emphasized-decelerate);
}

@keyframes dialog-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

// Dialog panel
.dialog-panel {
  background: var(--mat-sys-surface-container-high);
  border-radius: var(--mat-sys-corner-extra-large);
  box-shadow: var(--mat-sys-level3);
  width: 100%;
  max-width: 560px;
  max-height: calc(100vh - 96px);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  animation: dialog-slide-in var(--mat-sys-motion-duration-medium2) var(--mat-sys-motion-easing-emphasized-decelerate);
}

@keyframes dialog-slide-in {
  from {
    opacity: 0;
    transform: scale(0.9) translateY(16px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

// Size variants
.dialog-panel--sm {
  max-width: 400px;
}

.dialog-panel--lg {
  max-width: 720px;
}

.dialog-panel--xl {
  max-width: 900px;
}

.dialog-panel--fullscreen {
  max-width: 100%;
  max-height: 100%;
  width: 100%;
  height: 100%;
  border-radius: 0;
}

// Dialog header
.dialog-header {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 24px 24px 16px;
}

.dialog-header--with-icon {
  flex-direction: column;
  text-align: center;
}

.dialog-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  color: var(--mat-sys-secondary);
}

.dialog-header--with-icon .dialog-icon {
  width: 48px;
  height: 48px;
  margin-bottom: 8px;
}

// Dialog title
.dialog-title {
  flex: 1;
  margin: 0;
  font-family: var(--mat-sys-headline-small-font);
  font-size: var(--mat-sys-headline-small-size);
  font-weight: var(--mat-sys-headline-small-weight);
  line-height: var(--mat-sys-headline-small-line-height);
  letter-spacing: var(--mat-sys-headline-small-tracking);
  color: var(--mat-sys-on-surface);
}

// Dialog content
.dialog-content {
  flex: 1;
  overflow-y: auto;
  padding: 0 24px 24px;
  font-family: var(--mat-sys-body-medium-font);
  font-size: var(--mat-sys-body-medium-size);
  line-height: var(--mat-sys-body-medium-line-height);
  color: var(--mat-sys-on-surface-variant);
}

.dialog-content:first-child {
  padding-top: 24px;
}

// Divider between content and actions (optional)
.dialog-divider {
  height: 1px;
  background: var(--mat-sys-outline-variant);
  margin: 0;
  border: none;
}

// Dialog footer/actions
.dialog-footer {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 8px;
  padding: 16px 24px 24px;
}

.dialog-footer--stacked {
  flex-direction: column;
  align-items: stretch;
}

.dialog-footer--stacked > * {
  width: 100%;
}

// Close button (X in corner)
.dialog-close {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  padding: 0;
  border: none;
  border-radius: var(--mat-sys-corner-full);
  background: transparent;
  color: var(--mat-sys-on-surface-variant);
  cursor: pointer;
  transition: background-color var(--mat-sys-motion-duration-short4) var(--mat-sys-motion-easing-standard);
}

.dialog-close:hover {
  background: color-mix(in srgb, var(--mat-sys-on-surface-variant) 8%, transparent);
}

.dialog-close:focus-visible {
  outline: 2px solid var(--mat-sys-primary);
  outline-offset: 2px;
}

.dialog-close:active {
  background: color-mix(in srgb, var(--mat-sys-on-surface-variant) 12%, transparent);
}

// Alert dialog (centered content)
.dialog-panel--alert {
  text-align: center;
}

.dialog-panel--alert .dialog-header {
  justify-content: center;
}

.dialog-panel--alert .dialog-footer {
  justify-content: center;
}

// Confirmation dialog
.dialog-panel--confirmation .dialog-footer {
  justify-content: flex-end;
}
