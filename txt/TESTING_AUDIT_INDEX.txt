# TESTING LIBRARIES AUDIT - DOCUMENT INDEX
Date: 2026-01-23

This folder contains a complete audit of testing frameworks and libraries across the MetaBuilder codebase.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DOCUMENTS INCLUDED:

1. TESTING_LIBRARIES_SUMMARY.txt [START HERE]
   â”œâ”€ Quick visual reference
   â”œâ”€ Framework breakdown (Jest vs Vitest)
   â”œâ”€ Critical issues at a glance
   â”œâ”€ Recommended standardization
   â””â”€ Estimated effort: 3-4 hours

2. TESTING_LIBRARIES_AUDIT_2026-01-23.txt [COMPREHENSIVE]
   â”œâ”€ Executive summary
   â”œâ”€ Detailed testing framework analysis
   â”œâ”€ @testing-library packages breakdown
   â”œâ”€ Compatibility matrix
   â”œâ”€ Configuration file inventory
   â”œâ”€ Detailed issue breakdown (ğŸ”´ critical, ğŸŸ¡ medium, ğŸŸ  low)
   â”œâ”€ Recommended standardization options (A: Jest, B: Vitest)
   â”œâ”€ Full action plan with 6 phases
   â”œâ”€ Impact analysis
   â”œâ”€ Verification checklist
   â””â”€ Technical notes

3. TESTING_PACKAGES_DETAILED_MATRIX.txt [REFERENCE TABLE]
   â”œâ”€ Package-by-package matrix (13 packages Ã— 4 testing attributes)
   â”œâ”€ Summary statistics
   â”œâ”€ Issues categorized by severity
   â”œâ”€ Recommended standardization plan (A & B options)
   â”œâ”€ Package-specific action items
   â””â”€ Implementation notes

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

HOW TO USE THESE DOCUMENTS:

For Quick Understanding:
  1. Read: TESTING_LIBRARIES_SUMMARY.txt (5 min)
  2. skim: TESTING_PACKAGES_DETAILED_MATRIX.txt (10 min)

For Implementation Planning:
  1. Read: TESTING_LIBRARIES_AUDIT_2026-01-23.txt section "RECOMMENDED STANDARDIZATION"
  2. Review: TESTING_PACKAGES_DETAILED_MATRIX.txt "PACKAGE-SPECIFIC ACTIONS"
  3. Follow: TESTING_LIBRARIES_AUDIT_2026-01-23.txt "ACTION PLAN"

For Detailed Reference:
  1. Use: TESTING_PACKAGES_DETAILED_MATRIX.txt for package-by-package details
  2. Consult: TESTING_LIBRARIES_AUDIT_2026-01-23.txt for deep analysis

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

KEY FINDINGS SUMMARY:

CRITICAL ISSUES (3):
  1. @testing-library/react version gap: 2 major versions (v14 â†’ v16) in 2 packages
  2. Framework fragmentation: 11 Jest vs 5 Vitest packages (2 different systems)
  3. Missing testing library declarations: 8 packages have no explicit @testing-library

HIGH PRIORITY ISSUES (2):
  4. Vitest version inconsistency: codegen/spark-tools @v3.0.9 (behind v4.x)
  5. Jest version inconsistency: workflow @v29.0.0 (not latest)

MEDIUM PRIORITY ISSUES (1):
  6. @testing-library/jest-dom gap: pastebin @v6.1.5 (5 minor versions behind)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RECOMMENDED ACTION:

Phase 1: STANDARDIZE ON JEST (Recommended)
  â€¢ All frameworks: jest ^29.7.0
  â€¢ All testing libraries: standardized versions
  â€¢ Effort: 3-4 hours
  â€¢ Impact: Clean npm install, consistent testing experience, fewer conflicts

Packages to Migrate (4):
  â€¢ dbal/development (vitest â†’ jest)
  â€¢ frontends/nextjs (vitest â†’ jest)
  â€¢ postgres (vitest â†’ jest)
  â€¢ codegen/packages/spark-tools (vitest â†’ jest)

Packages to Upgrade (3):
  â€¢ pastebin (@testing-library/react v14 â†’ v16, jest-dom v6.1 â†’ v6.6)
  â€¢ redux/hooks-async (@testing-library/react v14 â†’ v16)
  â€¢ workflow (jest v29.0 â†’ v29.7)

Packages to Add Declarations (4):
  â€¢ emailclient
  â€¢ redux/hooks
  â€¢ redux/api-clients
  â€¢ codegen

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STANDARD VERSIONS (After Standardization):

jest:                        ^29.7.0
@testing-library/react:      ^16.3.1
@testing-library/dom:        ^10.4.1
@testing-library/jest-dom:   ^6.6.3
@testing-library/user-event: ^14.5.1

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VERIFICATION AFTER IMPLEMENTATION:

Before considering done:
  âœ… npm install succeeds at project root
  âœ… npm run build succeeds (all workspaces)
  âœ… npm run test passes (all packages)
  âœ… npm run lint shows no issues
  âœ… No vitest config files remain
  âœ… All jest versions are ^29.7.0
  âœ… All @testing-library/* versions match standard
  âœ… All test scripts use jest

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

QUICK STATS:

Total Packages Analyzed:         13
  Jest (11):  emailclient, workflowui, pastebin, workflow, redux/hooks, redux/hooks-async, redux/api-clients + 4 no-version
  Vitest (5): dbal/development, frontends/nextjs, codegen, codegen/spark-tools, postgres + 1 no-version

Framework Split:                50% Jest, 46% Vitest (2 systems coexisting)
Version Gaps in @testing-library/react: 3 major versions (v14, v16.0, v16.3)
Missing Declarations:           8 packages missing @testing-library/react

Critical Issues:                3 (blocking)
High Priority:                  2 (should fix)
Medium Priority:                1 (nice to have)
Total Fix Effort:               3-4 hours

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RELATED DOCUMENTS:

Root-level analysis:
  /txt/DEPENDENCY_AUDIT_DETAILS_2026-01-23.txt - Overall dependency vulnerabilities
  /txt/DEPENDENCY_FIX_PLAN_2026-01-23.txt - Full dependency remediation plan

CLAUDE.md notes:
  See: /CLAUDE.md section "Dependency Management" â†’ "npm/Node.js"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

QUESTIONS?

For implementation details: See TESTING_LIBRARIES_AUDIT_2026-01-23.txt
For package-specific actions: See TESTING_PACKAGES_DETAILED_MATRIX.txt
For quick overview: See TESTING_LIBRARIES_SUMMARY.txt

