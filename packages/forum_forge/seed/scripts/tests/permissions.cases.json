{
  "can_post": [
    { "role": "public", "expected": false, "desc": "Public users cannot post" },
    { "role": "user", "expected": true, "desc": "Regular users can post" },
    { "role": "moderator", "expected": true, "desc": "Moderators can post" },
    { "role": "admin", "expected": true, "desc": "Admins can post" },
    { "role": "god", "expected": true, "desc": "God users can post" },
    { "role": "supergod", "expected": true, "desc": "Supergod users can post" },
    { "role": null, "expected": false, "desc": "Nil role defaults to public (cannot post)" }
  ],
  "can_moderate": [
    { "role": "public", "expected": false, "desc": "Public users cannot moderate" },
    { "role": "user", "expected": false, "desc": "Regular users cannot moderate" },
    { "role": "moderator", "expected": false, "desc": "Moderators cannot moderate (need admin+)" },
    { "role": "admin", "expected": true, "desc": "Admins can moderate" },
    { "role": "god", "expected": true, "desc": "God users can moderate" },
    { "role": "supergod", "expected": true, "desc": "Supergod users can moderate" },
    { "role": null, "expected": false, "desc": "Nil role defaults to public (cannot moderate)" }
  ],
  "flag_post": [
    { "content": "Hello world", "expected_flagged": false, "desc": "Normal content is not flagged" },
    { "content": "This is SPAM", "expected_flagged": true, "expected_reasons": 1, "desc": "Spam is flagged" },
    { "content": "Check out this scam link", "expected_flagged": true, "expected_reasons": 1, "desc": "Scam is flagged" },
    { "content": "phishing attack here", "expected_flagged": true, "expected_reasons": 1, "desc": "Phishing is flagged" },
    { "content": "Report abuse now", "expected_flagged": true, "expected_reasons": 1, "desc": "Abuse is flagged" },
    { "content": "This is spam and a scam", "expected_flagged": true, "expected_reasons": 2, "desc": "Multiple violations are flagged" },
    { "content": "", "expected_flagged": false, "desc": "Empty content is not flagged" }
  ],
  "rank_thread": [
    { "replyCount": 0, "likeCount": 0, "lastReplyAt": 0, "expected_min": 0, "desc": "Empty thread has zero score" },
    { "replyCount": 10, "likeCount": 5, "lastReplyAt": 0, "expected_min": 25, "desc": "10 replies + 5 likes = 25 base" },
    { "replyCount": 5, "likeCount": 10, "lastReplyAt": 1000000, "expected_min": 21, "desc": "5 replies + 10 likes + recency bonus" },
    { "replyCount": 100, "likeCount": 50, "lastReplyAt": 0, "expected_min": 250, "desc": "Popular thread" }
  ]
}
